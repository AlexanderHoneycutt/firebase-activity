(this["webpackJsonpfirebase-activity"]=this["webpackJsonpfirebase-activity"]||[]).push([[0],{58:function(e,t,a){e.exports=a(98)},63:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(28),l=a.n(r),o=(a(63),a(29)),s=a(19),c=a(30),u=a(31),p=a(20),m=a(32),h=a(120),d=a(117),v=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{style:{marginLeft:"10px",width:"200px",display:"inline-block"}},Object.keys(this.props.inputs).map((function(t,a){return i.a.createElement("div",{key:a},i.a.createElement(d.a,null,e.props.inputs[t].label),i.a.createElement(h.a,{key:t,onChange:function(a,n){return e.props.onUpdate(n,t)},defaultValue:e.props.inputs[t].value,min:e.props.inputs[t].min,max:e.props.inputs[t].max}))})))}}]),t}(i.a.Component),f=a(47),g=a.n(f),b=a(40),y=a.n(b),E=a(48),k=a.n(E),x=2*Math.PI,S=new g.a,C=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return k.a.range(this.props.num_lines).map((function(){for(var t=0,a=600*Math.random(e.props.seed),n=900*Math.random(e.props.seed),r=y()(n,a),l=!0,o="M".concat(n," ").concat(a);l;){var s=S.noise3D(r.x/e.props.noiseScale,r.y/e.props.noiseScale,e.props.seed)*x;r.add(y.a.fromAngle(s).setMag(e.props.stepLength)),l=r.x>=0&&r.x<=900&&r.y>=0&&r.y<=600&&t<e.props.max_steps,o+="L".concat(r.x," ").concat(r.y),t++}return i.a.createElement("path",{stroke:e.props.lineColor,strokeWidth:"1px",fill:"none",d:o})}))}}]),t}(i.a.Component);C.defaultProps={noiseScale:100,width:500,height:500,seed:1,num_lines:100,max_steps:10,stepLength:10,lineColor:"black"};var w=a(123),O=a(121),I={num_lines:{label:"Number of Lines",min:1,max:500,value:200},stepLength:{label:"Length of Each Step",min:1,max:100,value:30},max_steps:{label:"Maximum Number of Steps",min:1,max:500,value:200},noiseScale:{label:"Noise Scale",min:100,max:3e3,value:1e3}},j=a(49),L=a.n(j),A=a(119),_=a(54);function M(e){return i.a.createElement("div",null,e.svgs&&Object.keys(e.svgs).sort((function(t,a){return e.svgs[a].time-e.svgs[t].time})).map((function(t){return i.a.createElement(A.a,{style:{textAlign:"center",marginTop:"40px"}},i.a.createElement(L.a,{src:e.svgs[t].svg}),e.showLikes&&i.a.createElement("span",{onClick:function(){return e.onClick(t)}},i.a.createElement(_.a,{fill:"red",style:{cursor:"pointer"}}),i.a.createElement("span",null,e.svgs[t].likes)))})))}var R=a(35),D=a(24),T=a(50),P=a.n(T),B=a(18),z=a.n(B);z.a.initializeApp({apiKey:"AIzaSyA3Qq8ALZ0RLZyThRCeX1WtyEymYr7zNlU",authDomain:"fir-952d8.firebaseapp.com",databaseURL:"https://fir-952d8.firebaseio.com",projectId:"fir-952d8",storageBucket:"fir-952d8.appspot.com",messagingSenderId:"896239704744",appId:"1:896239704744:web:0eb0d811207267973b409d",measurementId:"G-3HDCV3RNSQ"});var F={signInFlow:"popup",signInSuccessUrl:"",signInOptions:[z.a.auth.GoogleAuthProvider.PROVIDER_ID,z.a.auth.FacebookAuthProvider.PROVIDER_ID]},U=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={num_lines:I.num_lines.value,noiseScale:I.noiseScale.value,seed:1,max_steps:I.max_steps.value,stepLength:I.stepLength.value,lineColor:"#FF0000",backgroundColor:"#000000",isSignedIn:!1},a.favoritesRef=z.a.database().ref("favorites"),a.publicRef=z.a.database().ref("public"),a.publicRef.on("value",(function(e){a.setState({public:e.val()})})),a.like=a.like.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"handleChange",value:function(e,t){var a={};a[t]=e,this.setState(a)}},{key:"componentDidMount",value:function(){var e=this;this.unregisterAuthObserver=z.a.auth().onAuthStateChanged((function(t){e.setState({isSignedIn:!!t}),e.favoritesRef.child(t.uid).on("value",(function(t){e.setState({favorites:t.val()})}))}))}},{key:"componentWillUnmount",value:function(){this.unregisterAuthObserver()}},{key:"save",value:function(){var e=(new XMLSerializer).serializeToString(document.querySelector("svg"));this.favoritesRef.child(z.a.auth().currentUser.uid).push({svg:e,time:z.a.database.ServerValue.TIMESTAMP})}},{key:"share",value:function(){var e=(new XMLSerializer).serializeToString(document.querySelector("svg"));this.publicRef.push({svg:e,time:z.a.database.ServerValue.TIMESTAMP,likes:0})}},{key:"like",value:function(e){console.log(this.svgId),this.publicRef.child(e+"/likes").transaction((function(e){return e+1}))}},{key:"render",value:function(){var e=this;return this.state.isSignedIn?i.a.createElement(R.a,null,i.a.createElement("div",null,i.a.createElement(w.a,null,i.a.createElement("nav",null,i.a.createElement(O.a,null,i.a.createElement(R.b,{style:{textDecoration:"none",color:"white"},to:"/"},"Build")),i.a.createElement(O.a,null,i.a.createElement(R.b,{style:{textDecoration:"none",color:"white"},to:"/favorites"},"My Favorites")),i.a.createElement(O.a,null,i.a.createElement(R.b,{style:{textDecoration:"none",color:"white"},to:"/shared"},"Shared")),i.a.createElement(O.a,{style:{position:"fixed",right:"10px",color:"white"},onClick:function(){return z.a.auth().signOut()}},"Sign-out"))),i.a.createElement(D.c,null,i.a.createElement(D.a,{path:"/favorites"},i.a.createElement(M,{svgs:this.state.favorites})),i.a.createElement(D.a,{path:"/shared"},i.a.createElement(M,{svgs:this.state.public,onClick:function(t){return e.like(t)},showLikes:!0})),i.a.createElement(D.a,{exact:!0,path:"/"},i.a.createElement("div",{style:{display:"inline-block",margin:"20px",marginTop:"50px"}},i.a.createElement("div",{style:{display:"inline-block",width:"300px"}},i.a.createElement(d.a,{variant:"h6",gutterBottom:!0},"Controls"),i.a.createElement(v,{onUpdate:this.handleChange.bind(this),inputs:I}),i.a.createElement("div",{style:{display:"inline-block"}},i.a.createElement("label",{htmlFor:"color"},"Line Color: "),i.a.createElement("input",{defaultValue:this.state.lineColor,type:"color",onChange:function(t){return e.handleChange(t.target.value,"lineColor")}})),i.a.createElement("div",{style:{display:"inline-block"}},i.a.createElement("label",{htmlFor:"color"},"Background Color: "),i.a.createElement("input",{type:"color",onChange:function(t){return e.handleChange(t.target.value,"backgroundColor")}})),i.a.createElement("div",null,i.a.createElement(O.a,{style:{width:"100px",marginBottom:"10px",display:"block"},variant:"contained",color:"primary",onClick:function(){return e.save()}},"Save"),i.a.createElement(O.a,{style:{width:"100px",marginBottom:"10px",display:"block"},variant:"contained",color:"primary",onClick:function(){return e.share()}},"Share"))),i.a.createElement("div",{style:{display:"inline-block",verticalAlign:"Top"}},i.a.createElement("svg",{height:600,width:900},i.a.createElement("rect",{height:600,width:900,fill:this.state.backgroundColor}),i.a.createElement(C,{num_lines:this.state.num_lines,max_steps:this.state.max_steps,stepLength:this.state.stepLength,noiseScale:this.state.noiseScale,lineColor:this.state.lineColor})))))))):i.a.createElement("div",null,i.a.createElement("h1",null,"My App"),i.a.createElement("p",null,"Please sign-in:"),i.a.createElement(P.a,{uiConfig:F,firebaseAuth:z.a.auth()}))}}]),t}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[58,1,2]]]);
//# sourceMappingURL=main.68a05d2b.chunk.js.map